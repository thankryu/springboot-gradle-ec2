<!doctype html>
<html lang="ko">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>Hello, world!</title>
<script type="application/javascript">
$(document).ready(function(){
    selectGalleryList();
});
function selectGalleryList(){
    console.log('실행');
    const result = axios.get('/image/readImage', {
        params :{
            "searchKeyword" : $('#searchGalleryWord').val(),
            "PAGE_NUM" : 2,
            //"order" : $('#ORDER').val(),
            //"order_flag" :$('#ORDER_FLAG').val()
        }
    }).then(function (response) {
        console.log('resultList', response);
        const data = response.data;
        console.log('data', data);
        const resultList = response.data.list;
        console.log('resultList', resultList);
        let tableContent = '';
        for(let i=0; i < resultList.length; i++){
            let src1 = '/upload'+resultList[i].file_path + resultList[i].file_name;
            tableContent += '<div class="col">';
            tableContent += '	<div class="card h-100">';
            tableContent += '		<img src="'+src1+'" class="card-img-top" alt="...">';
            tableContent += '		<div class="card-body">';
            tableContent += '			<h5 class="card-title">Card title</h5>';
            tableContent += `			<p class="card-text">${resultList[i].author}</p>`;
            tableContent += '		</div>';
            tableContent += '		<div class="card-footer">';
            tableContent += `		    <small class="text-muted">${resultList[i].cnt}</small>`;
            tableContent += '		</div>';
            tableContent += '   </div>';
            tableContent += '</div>';
        }

        document.getElementById('galleryListArea').innerHTML = tableContent;
    })
}
</script>
</head>
<body>
<h1>Hello, world!</h1>

    <!-- 검색 타입 -->
    <div class="input-group mb-3">
        <input type="text" id="searchGalleryWord" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="button-addon2">
        <button class="btn btn-primary" type="button" id="button-addon2">Button</button>
        <button class="btn btn-warning" type="button" id="button-addon3">Button</button>
    </div>

    <!-- 정렬타입 -->
    <select class="form-select" aria-label="Default select example">
        <option selected>Open this select menu</option>
        <option value="1">One</option>
        <option value="2">Two</option>
        <option value="3">Three</option>
    </select>

    <!-- 갤러리 목록 -->
    <div class="row row-cols-1 row-cols-md-4 g-4" id="galleryListArea">
    </div>

    <!--<div class="row"></div>-->
    <div class ='row'>
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center pagination-lg">
                <li class="page-item disabled">
                    <a class="page-link">Previous</a>
                </li>
                <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#">Next</a>
                </li>
            </ul>
        </nav>
    </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


</body>
</html>